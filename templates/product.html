<!DOCTYPE html>
<html lang="en">
    {% load static %}   
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoScan - Product Details</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link href="{% static 'css/search.css' %}" rel="stylesheet">
    <link href="{% static 'css/product.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-leaf"></i> EcoScan
            </a>
            <button class="navbar-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="product-page">
        <div class="container">
            <!-- Product Header -->
            <div class="product-header">
                <h1>{{ food.name }}</h1>
                <span class="brand-name">Category: {{ food.category }}</span>
            </div>

            <!-- Product Content Grid -->
            <div class="product-grid">
                <!-- Images Section -->
                <div class="product-images">
                    <div class="main-image">
                        <img src="{% static 'images/' %}{{ food.bar_code }}f.jpg" alt="Nature's Best Organic Granola">
                        <div class="image-counter">
                            <i class="fas fa-camera"></i>
                            <span>1/3</span>
                        </div>
                    </div>
                    <div class="image-thumbnails">
                        <img src="{% static 'images/' %}{{ food.bar_code }}f" alt="Product View 1" class="active">
                        <img src="{% static 'images/' %}{{ food.bar_code }}i" alt="Product View 2">
                        <img src="{% static 'images/' %}{{ food.bar_code }}n" alt="Product View 3">
                    </div>
                </div>

                <!-- Scores Section -->
                <div class="scores-section">
                    <div class="score-card eco-score">
                        <h2>Eco Score</h2>
                        <div class="score-badge eco-score-{{ food.eco_score|lower }}">{{ food.eco_score }}</div>
                        <div class="score-highlights">
                            <div class="highlight positive">
                                <i class="fas fa-check"></i>
                                <span>Organic Ingredients</span>
                            </div>
                            <div class="highlight positive">
                                <i class="fas fa-check"></i>
                                <span>Recyclable Packaging</span>
                            </div>
                            <div class="highlight negative">
                                <i class="fas fa-times"></i>
                                <span>Long Transport Distance</span>
                            </div>
                        </div>
                    </div>

                    <div class="score-card nutri-score">
                        <h2>Nutri Score</h2>
                        <div class="score-badge nutri-score-{{ food.nutri_class|lower }}">{{ food.nutri_class }}</div>
                        <div class="score-highlights">
                            <div class="highlight positive">
                                <i class="fas fa-check"></i>
                                <span>Low Sugar Content</span>
                            </div>
                            <div class="highlight positive">
                                <i class="fas fa-check"></i>
                                <span>High Fiber</span>
                            </div>
                            <div class="highlight negative">
                                <i class="fas fa-times"></i>
                                <span>Contains Palm Oil</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Analysis -->
                <div class="product-analysis">
                    <h2>Product Analysis</h2>
                    <div class="analysis-tabs">
                        <button class="tab-button active" data-tab="nutrition">
                            Nutrition
                        </button>
                        <button class="tab-button" data-tab="ingredients">
                            Ingredients
                        </button>
                        <button class="tab-button" data-tab="nova">
                            Nova Score
                        </button>
                        <button class="tab-button" data-tab="environmental">
                            Environmental Impact
                        </button>
                    </div>
                    
                    <!-- Nutrition Tab -->
                    <div class="tab-content active" id="nutrition">
                    <div class="nutrition-info">
                        <h3>Nutritional Values</h3>
                        <table class="nutrition-table">
                            <thead>
                                <tr>
                                    <th>Nutrient</th>
                                    <th>Per 100g</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Energy</td>
                                    <td>{{ energy|default:"0.0" }} {{ unit }}</td>
                                </tr>
                                <tr>
                                    <td>Proteins</td>
                                    <td>{{ proteins|default:"0.0" }}g</td>
                                </tr>
                                <tr>
                                    <td>Saturated Fats</td>
                                    <td>{{ saturated_fats|default:"0.0" }}g</td>
                                </tr>
                                <tr>
                                    <td>Fibers</td>
                                    <td>{{ fibers|default:"0.0" }}g</td>
                                </tr>
                                <tr>
                                    <td>Sugars</td>
                                    <td>{{ sugar|default:"0.0" }}g</td>
                                </tr>
                                <tr>
                                    <td>Sodium</td>
                                    <td>{{ sodium|default:"0.000" }}g</td>
                                </tr>
                            </tbody>

                        </table>
                        <p class="nutrition-footnote">* Values are per 100{{ food_class|yesno:"g,ml" }} of product</p>
                    </div>
                </div>


                    <!-- Ingredients Tab -->
                    <div class="tab-content" id="ingredients">
                        <div class="ingredients-info">
                            <h3>Ingredients List</h3>
                            <p>{{ food.ingredient_data }}</p>
                        </div>
                    </div>

                    <!-- Nova Score Tab -->
                    <div class="tab-content" id="nova">
                        <div class="nova-info">
                            <h3>Nova Group Classification</h3>
                            <div class="nova-group">
                                <h4>Group {{ food.nova_group }}</h4>
                            </div>
                            <div class="nova-details">
                                <p>{{ food.nova_summary }}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Environmental Impact Tab -->
                    <div class="tab-content" id="environmental">
                        <div class="environmental-info">
                            <h3>Environmental Impact Assessment</h3>
                            <div class="impact-details">
                                <p>{{ food.sustainability_summary }}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="product-summary">
                    <h2>Sustainability Summary</h2>
                    <p>{{ food.sustainability_summary }}</p>                
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <i class="fas fa-leaf"></i> EcoScan
                    <p>Making food transparency accessible to everyone.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-section">
                        <h5>Product</h5>
                        <ul>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#pricing">Pricing</a></li>
                            <li><a href="#api">API</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h5>Company</h5>
                        <ul>
                            <li><a href="#about">About</a></li>
                            <li><a href="#blog">Blog</a></li>
                            <li><a href="#careers">Careers</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h5>Stay Updated</h5>
                        <div class="newsletter-form">
                            <input type="email" placeholder="Enter your email">
                            <button class="cta-button primary">Subscribe</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <span>© 2024 EcoScan. All rights reserved.</span>
                <div class="footer-legal">
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="{% static 'js/product.js' %}"></script>
</body>
</html>